import{d as v,p as H,s as w,j as l,c as O,i as _,w as j,S as B,n as T,V as L,x as S,G as N,z as I,y as C}from"./BP9xYyLZ.js";import{P as K,u as $,L as F,g as V,t as y,v as x,x as q,y as z,z as E,R as D,A as G,d as M,a as U,B as b,_ as J}from"./-W1aSz-M.js";const Q=v({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const o=e.renderKey,a=e.route,s={};for(const n in e.route)Object.defineProperty(s,n,{get:()=>o===e.renderKey?e.route[n]:a[n]});return H(K,w(s)),()=>l(e.vnode,{ref:e.vnodeRef})}}),W=v({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o,slots:a,expose:s}){const n=$(),r=O(),i=_(K,null);let u;s({pageRef:r});const c=_(F,null);let d;const g=n.deferHydration();if(n.isHydrating){const t=n.hooks.hookOnce("app:error",g);V().beforeEach(t)}return e.pageKey&&j(()=>e.pageKey,(t,p)=>{t!==p&&n.callHook("page:loading:start")}),()=>l(D,{name:e.name,route:e.route,...o},{default:t=>{const p=Y(i,t.route,t.Component),h=i&&i.matched.length===t.route.matched.length;if(!t.Component){if(d&&!h)return d;g();return}if(d&&c&&!c.isCurrent(t.route))return d;if(p&&i&&(!c||c!=null&&c.isCurrent(i)))return h?d:null;const f=y(t,e.pageKey);!n.isHydrating&&!Z(i,t.route,t.Component)&&u===f&&n.callHook("page:loading:end"),u=f;const m=!!(e.transition??t.route.meta.pageTransition??x),A=m&&X([e.transition,t.route.meta.pageTransition,x,{onAfterLeave:()=>{n.callHook("page:transition:finish",t.Component)}}].filter(Boolean)),k=e.keepalive??t.route.meta.keepalive??q;return d=z(S,m&&A,E(k,l(B,{suspensible:!0,onPending:()=>n.callHook("page:start",t.Component),onResolve:()=>{T(()=>n.callHook("page:finish",t.Component).then(()=>n.callHook("page:loading:end")).finally(g))}},{default:()=>{const R=l(Q,{key:f||void 0,vnode:a.default?l(L,void 0,a.default(t)):t.Component,route:t.route,renderKey:f||void 0,trackRootNodes:m,vnodeRef:r});return k&&(R.type.name=t.Component.type.name||t.Component.type.__name||"RouteProvider"),R}}))).default(),d}})}});function X(e){const o=e.map(a=>({...a,onAfterLeave:a.onAfterLeave?G(a.onAfterLeave):void 0}));return M(...o)}function Y(e,o,a){if(!e)return!1;const s=o.matched.findIndex(n=>{var r;return((r=n.components)==null?void 0:r.default)===(a==null?void 0:a.type)});return!s||s===-1?!1:o.matched.slice(0,s).some((n,r)=>{var i,u,c;return((i=n.components)==null?void 0:i.default)!==((c=(u=e.matched[r])==null?void 0:u.components)==null?void 0:c.default)})||a&&y({route:o,Component:a})!==y({route:e,Component:a})}function Z(e,o,a){return e?o.matched.findIndex(n=>{var r;return((r=n.components)==null?void 0:r.default)===(a==null?void 0:a.type)})<o.matched.length-1:!1}const P=v({name:"defaultLayout",setup(){U({meta:[{name:"author",content:"ota-ku"},{name:"language",content:"RU"},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"600"},{property:"ot:image:type",content:"image/png"},{property:"og:type",content:"website"},{property:"og:locale",content:"ru"},{name:"topic",content:"ota-ku, аниме смотреть, аниме, лучшие аниме онлайн бесплатно, ота-ку, сайт аниме отаку, лучшие топ аниме смотреть"},{name:"keywords",content:"Ota-ku - Твой Личный Портал в Мир Аниме, аниме смотреть, аниме, лучшие аниме онлайн бесплатно, ота-ку, сайт аниме отаку, лучшие топ аниме смотреть"}]}),N(async()=>{let e=0;b.addListener("backButton",()=>{const o=new Date().getTime();o-e<2e3?b.exitApp():(e=o,window.history.back())})})}});function ee(e,o,a,s,n,r){const i=W;return C(),I(i)}const ae=J(P,[["render",ee]]);export{ae as default};
